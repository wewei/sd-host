# SD-Host API Documentation

SD-Host æä¾›äº†ä¸€å¥—å®Œæ•´çš„ RESTful API æ¥ç®¡ç† Stable Diffusion æ¨¡å‹å’Œå›¾åƒç”ŸæˆæœåŠ¡ã€‚

## API æ¦‚è¿°

- **è®¾è®¡åŸåˆ™**: RESTful æ¶æ„ï¼ŒJSON æ•°æ®äº¤æ¢
- **API å‰ç¼€**: `/api/v1`
- **å®æ—¶é€šä¿¡**: Server-Sent Events (SSE)
- **ç›®æ ‡åœºæ™¯**: å•ç”¨æˆ·æœ¬åœ°éƒ¨ç½²æˆ–å±€åŸŸç½‘ä½¿ç”¨

---

## 1. æ¨¡å‹ç®¡ç†ç±» (Model Management)

ç®¡ç† Stable Diffusion æ¨¡å‹çš„å¢åˆ æŸ¥æ”¹æ“ä½œã€‚

### API ç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | åŠŸèƒ½æè¿° |
|------|------|----------|
| GET | `/api/v1/models` | è·å–æ‰€æœ‰å¯ç”¨æ¨¡å‹åˆ—è¡¨ |
| GET | `/api/v1/models/{model_sha256}` | æ™ºèƒ½è·å–æ¨¡å‹ä¿¡æ¯ï¼ˆæ”¯æŒ SSE ä¸‹è½½è¿›åº¦ï¼‰ |
| POST | `/api/v1/models/add-from-civitai` | ä» Civitai æ·»åŠ æ–°æ¨¡å‹ |
| DELETE | `/api/v1/models/{model_sha256}` | åˆ é™¤æŒ‡å®šæ¨¡å‹ |

ğŸ“– **è¯¦ç»†æ–‡æ¡£**: [Model Management API](./model-management.md)

---

## 2. ä»»åŠ¡ç®¡ç†ç±» (Task Management)

è°ƒåº¦ä¸»æœºèµ„æºï¼Œå®Œæˆå›¾åƒæ¸²æŸ“ä»»åŠ¡ã€‚

### API ç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | åŠŸèƒ½æè¿° |
|------|------|----------|
| GET | `/api/v1/tasks/queue` | SSE å®æ—¶æ¨é€ä»»åŠ¡é˜Ÿåˆ—çŠ¶æ€ |
| POST | `/api/v1/tasks` | åˆ›å»ºæ–°ä»»åŠ¡ï¼ˆæ™ºèƒ½è°ƒåº¦ï¼‰ |
| DELETE | `/api/v1/tasks` | å–æ¶ˆä»»åŠ¡åˆ—è¡¨ï¼ˆæ‰¹é‡å–æ¶ˆï¼‰ |
| PUT | `/api/v1/tasks/priority` | æå‡ä»»åŠ¡åˆ—è¡¨ä¼˜å…ˆçº§ï¼ˆæ‰¹é‡è°ƒæ•´ï¼‰ |

ğŸ“– **è¯¦ç»†æ–‡æ¡£**: [Task Management API](./task-management.md)

---

## 3. å›¾åƒç®¡ç†ç±» (Image Management)

ç®¡ç†æ‰€æœ‰ç±»å‹çš„å›¾åƒå’Œå…ƒæ•°æ®ç³»ç»Ÿã€‚

### API ç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | åŠŸèƒ½æè¿° |
|------|------|----------|
| GET | `/api/v1/images/{image_hash}` | è·å–å›¾åƒæ•°æ®ï¼ˆç›´æ¥è¿”å›å›¾åƒæ–‡ä»¶å†…å®¹ï¼‰ |
| POST | `/api/v1/images/{image_hash}/metadata` | ä¸ºå›¾åƒè®¾ç½®å…ƒæ•°æ®å±æ€§ |
| GET | `/api/v1/images` | æŸ¥è¯¢å›¾åƒï¼ˆæŒ‰å±æ€§è¿‡æ»¤ï¼‰ |
| DELETE | `/api/v1/images` | åˆ é™¤å›¾åƒï¼ˆæ”¯æŒæ‰¹é‡åˆ é™¤ï¼‰ |

ğŸ“– **è¯¦ç»†æ–‡æ¡£**: [Image Management API](./image-management.md)

---

## 4. ç³»ç»ŸåŠŸèƒ½ç±» (System Features)

æä¾›ç³»ç»ŸåŸºæœ¬ä¿¡æ¯æŸ¥è¯¢åŠŸèƒ½ã€‚

### API ç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | åŠŸèƒ½æè¿° |
|------|------|----------|
| GET | `/api/v1/version` | è·å– API ç‰ˆæœ¬ä¿¡æ¯ |
| GET | `/api/v1/config` | è·å–ç³»ç»Ÿé…ç½®ï¼ˆéæ•æ„Ÿä¿¡æ¯ï¼‰ |

ğŸ“– **è¯¦ç»†æ–‡æ¡£**: [System Features API](./system-features.md)
